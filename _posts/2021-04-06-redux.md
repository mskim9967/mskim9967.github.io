---
title: React) redux
author: MyungSeung Kim
date: 2021-04-06 15:30:00 +0900
categories: [Web, React]
tags: [web, react, jsx, frontend]
math: true
mermaid: true
image:

---
중첩된 Components에서 props로 state를 넘기는 과정은 상당히 귀찮다.
이럴때 사용할 수 있는 라이브러리 redux를 사용해보자.

## redux
---
#### 설치
`npm install redux react-redux`

#### 사용
```jsx
// index.js
import { Provider } from  'react-redux';
import { createStore, combineReducers } from 'redux';

let defaultState = ["aa", "bb"];

function reducer(state = defaultState,action) {
	if(action.type === 'change') {
		...
		action.payload..
		...
		return ...
	}
	return state
}
function reducer2(state = true, action) {
	return state
}

let store = createStore(combineReducers({reducer, reducer2});

ReactDOM.render(
	<React.StrictMode> 
		<BrowserRouter>
			<Provider store={store}>
				<App/> 
			</Provider> 
		</BrowserRouter>
	</React.StrictMode>
);
```
```jsx
// Comp.js
import { connect } from 'react-redux'

function Comp(props) {
	return (
		{ props.state[0] }
	)
}

function stateToProps(state) {
	return {
		state1 : state.reducer
		state2 : 
	}
}

export default connect(stateToProps)(Comp)
```
state 변경을 위해서는 `dispatch()` 함수를 사용한다.
```jsx
props.dispatch({type: 'change', payload: ...})
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE2NTc5NjIwMjcsLTgzNDI4NTcxMywtOT
MxMzg2NjY2LDE4Nzg4NTEyMTQsLTEwNTAyNTI0MTIsMTg3ODg1
MTIxNCwtMjE0MzY0NjAwMF19
-->